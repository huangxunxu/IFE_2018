{"version":3,"sources":["index.js"],"names":["List","san","defineComponent","template","initData","newId","isShow","personName","persons","id","name","state","filters","filterState","toString","addPerson","data","get","trim","nId","newPerson","set","push","hide","checkCurrent","personId","list","map","item","delCurrent","forEach","remove","show","myApp","attach","document","body"],"mappings":"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","file":"src.825608a5.map","sourceRoot":"..\\src","sourcesContent":["var List = san.defineComponent({\r\n    template: ''\r\n    +    '<template>'\r\n        +    '<table rules=\"all\" cellpadding=\"10\" border=\"2\">'\r\n        +        '<tr>'\r\n        +            '<th>姓名</th>'\r\n        +            '<th>审核状态</th>'\r\n        +            '<th>操作</th>'\r\n        +        '</tr>'\r\n        +        '<template>'\r\n        +           '<tr s-for=\"person,index in persons\">'\r\n        +               '<td>{{person.name}}</td>'\r\n        +               '<td>{{person.state | filterState}}</td>'\r\n        +               '<td>'\r\n        +                   '<button s-if=\"person.state == 2\" on-click=\"checkCurrent(person.id)\">待审核</button>'\r\n        +                   '<button s-else on-click=\"delCurrent(person.id)\">删除</button>'\r\n        +               '</td>'\r\n        +           '</tr>'\r\n        +        '</template>'     \r\n        +    '</table>'\r\n        +    '<input type=\"button\" value=\"添加\" on-click=\"show\">'\r\n        +    '<div s-if=\"isShow\">'\r\n        +       '<span on-click=\"hide\">X</span>'\r\n        +       '<input placeholder=\"请输入名称\" type=\"text\" value=\"{= personName =}\">'\r\n        +       '<input type=\"button\" value=\"完成\" on-click=\"addPerson\">'\r\n        +    '</div>'\r\n    +   '</template>',\r\n\r\n    initData: function (){\r\n        return {\r\n            newId: 5,\r\n            isShow: false,\r\n            personName: '',\r\n            persons: [\r\n                {id:\"0\", name:\"张三\", state:\"1\"},\r\n                {id:\"1\", name:\"李四\", state:\"0\"},\r\n                {id:\"2\", name:\"王五\", state:\"2\"},\r\n                {id:\"3\", name:\"赵六\", state:\"2\"},\r\n                {id:\"4\", name:\"孙七\", state:\"2\"},\r\n            ]\r\n        }\r\n    },\r\n    // 过滤器\r\n    filters: {\r\n        filterState: function (state){\r\n            if(state.toString() === '0'){\r\n                return \"不合格\"\r\n            }else if(state == '1'){\r\n                return \"合格\"\r\n            }else{\r\n                return \"待审核\"\r\n            }\r\n        }\r\n    },\r\n    // 添加人员\r\n    addPerson: function (){\r\n        // 只做简单空值检查\r\n        let personName = this.data.get('personName').trim();\r\n        let nId = this.data.get('newId')\r\n        if(personName !== ''){\r\n            let newPerson = { id:nId, name:personName, state:'2'};\r\n            // 下一个添加的id+1\r\n            this.data.set('newId', nId+1);\r\n            // 置入新数据\r\n            this.data.push('persons', newPerson);\r\n            // 清空value\r\n            this.data.set('personName', '');\r\n        }\r\n        this.hide();\r\n        \r\n    },\r\n    // 审核中转为合格\r\n    checkCurrent: function (personId){\r\n        let list = this.data.get('persons');\r\n        list = list.map(item =>{\r\n            if(item.id === personId){\r\n                item.state ='1';\r\n            }\r\n            return item;\r\n        });\r\n\r\n        this.data.set('persons', list);\r\n    },\r\n    // 删除\r\n    delCurrent: function (personId){\r\n        let list = this.data.get('persons');\r\n\r\n        list = list.forEach(item =>{\r\n            if(item.id == personId){\r\n                this.data.remove('persons', item)\r\n                return;\r\n            }\r\n        })\r\n    },\r\n    // 添加人员面板显示关闭\r\n    show: function (){\r\n        this.data.set('isShow', true)\r\n    },\r\n    hide: function (){\r\n        this.data.set('isShow', false)\r\n    }\r\n    \r\n})\r\n\r\nvar myApp = new List();\r\nmyApp.attach(document.body);"]}